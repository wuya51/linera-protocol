<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta name="viewport" content="width=device-width, initial-scale=1.0"><meta name="generator" content="rustdoc"><meta name="description" content="Strategies for combining delegate strategies into `std::Result`s."><title>proptest::result - Rust</title><script>if(window.location.protocol!=="file:")document.head.insertAdjacentHTML("beforeend","SourceSerif4-Regular-46f98efaafac5295.ttf.woff2,FiraSans-Regular-018c141bf0843ffd.woff2,FiraSans-Medium-8f9a781e4970d388.woff2,SourceCodePro-Regular-562dcc5011b6de7d.ttf.woff2,SourceCodePro-Semibold-d899c5a5c4aeb14a.ttf.woff2".split(",").map(f=>`<link rel="preload" as="font" type="font/woff2" crossorigin href="../../static.files/${f}">`).join(""))</script><link rel="stylesheet" href="../../static.files/normalize-76eba96aa4d2e634.css"><link rel="stylesheet" href="../../static.files/rustdoc-dd39b87e5fcfba68.css"><meta name="rustdoc-vars" data-root-path="../../" data-static-root-path="../../static.files/" data-current-crate="proptest" data-themes="" data-resource-suffix="" data-rustdoc-version="1.80.0 (051478957 2024-07-21)" data-channel="1.80.0" data-search-js="search-d52510db62a78183.js" data-settings-js="settings-4313503d2e1961c2.js" ><script src="../../static.files/storage-118b08c4c78b968e.js"></script><script defer src="../sidebar-items.js"></script><script defer src="../../static.files/main-20a3ad099b048cf2.js"></script><noscript><link rel="stylesheet" href="../../static.files/noscript-df360f571f6edeae.css"></noscript><link rel="alternate icon" type="image/png" href="../../static.files/favicon-32x32-422f7d1d52889060.png"><link rel="icon" type="image/svg+xml" href="../../static.files/favicon-2c020d218678b618.svg"></head><body class="rustdoc mod"><!--[if lte IE 11]><div class="warning">This old browser is unsupported and will most likely display funky things.</div><![endif]--><nav class="mobile-topbar"><button class="sidebar-menu-toggle" title="show sidebar"></button></nav><nav class="sidebar"><div class="sidebar-crate"><h2><a href="../../proptest/index.html">proptest</a><span class="version">1.5.0</span></h2></div><h2 class="location"><a href="#">Module result</a></h2><div class="sidebar-elems"><section><ul class="block"><li><a href="#reexports">Re-exports</a></li><li><a href="#structs">Structs</a></li><li><a href="#functions">Functions</a></li></ul></section><h2><a href="../index.html">In crate proptest</a></h2></div></nav><div class="sidebar-resizer"></div><main><div class="width-limiter"><rustdoc-search></rustdoc-search><section id="main-content" class="content"><div class="main-heading"><h1>Module <a href="../index.html">proptest</a>::<wbr><a class="mod" href="#">result</a><button id="copy-path" title="Copy item path to clipboard">Copy item path</button></h1><span class="out-of-band"><a class="src" href="../../src/proptest/result.rs.html#10-326">source</a> · <button id="toggle-all-docs" title="collapse all docs">[<span>&#x2212;</span>]</button></span></div><details class="toggle top-doc" open><summary class="hideme"><span>Expand description</span></summary><div class="docblock"><p>Strategies for combining delegate strategies into <code>std::Result</code>s.</p>
<p>That is, the strategies here are for producing <code>Ok</code> <em>and</em> <code>Err</code> cases. To
simply adapt a strategy producing <code>T</code> into <code>Result&lt;T, something&gt;</code> which is
always <code>Ok</code>, you can do something like <code>base_strategy.prop_map(Ok)</code> to
simply wrap the generated values.</p>
<p>Note that there are two nearly identical APIs for doing this, termed “maybe
ok” and “maybe err”. The difference between the two is in how they shrink;
“maybe ok” treats <code>Ok</code> as the special case and shrinks to <code>Err</code>;
conversely, “maybe err” treats <code>Err</code> as the special case and shrinks to
<code>Ok</code>. Which to use largely depends on the code being tested; if the code
typically handles errors by immediately bailing out and doing nothing else,
“maybe ok” is likely more suitable, as shrinking will cause the code to
take simpler paths. On the other hand, functions that need to make a
complicated or fragile “back out” process on error are better tested with
“maybe err” since the success case results in an easier to understand code
path.</p>
</div></details><h2 id="reexports" class="section-header">Re-exports<a href="#reexports" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name" id="reexport.prob"><code>pub use crate::option::<a class="fn" href="../option/fn.prob.html" title="fn proptest::option::prob">prob</a>;</code></div></li><li><div class="item-name" id="reexport.Probability"><code>pub use crate::option::<a class="struct" href="../option/struct.Probability.html" title="struct proptest::option::Probability">Probability</a>;</code></div></li></ul><h2 id="structs" class="section-header">Structs<a href="#structs" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="struct" href="struct.MaybeErr.html" title="struct proptest::result::MaybeErr">MaybeErr</a></div><div class="desc docblock-short">Strategy which generates <code>Result</code>s using <code>Ok</code> and <code>Err</code> values from two
delegate strategies.</div></li><li><div class="item-name"><a class="struct" href="struct.MaybeErrValueTree.html" title="struct proptest::result::MaybeErrValueTree">MaybeErrValueTree</a></div><div class="desc docblock-short"><code>ValueTree</code> type corresponding to <code>MaybeErr</code>.</div></li><li><div class="item-name"><a class="struct" href="struct.MaybeOk.html" title="struct proptest::result::MaybeOk">MaybeOk</a></div><div class="desc docblock-short">Strategy which generates <code>Result</code>s using <code>Ok</code> and <code>Err</code> values from two
delegate strategies.</div></li><li><div class="item-name"><a class="struct" href="struct.MaybeOkValueTree.html" title="struct proptest::result::MaybeOkValueTree">MaybeOkValueTree</a></div><div class="desc docblock-short"><code>ValueTree</code> type corresponding to <code>MaybeOk</code>.</div></li></ul><h2 id="functions" class="section-header">Functions<a href="#functions" class="anchor">§</a></h2><ul class="item-table"><li><div class="item-name"><a class="fn" href="fn.maybe_err.html" title="fn proptest::result::maybe_err">maybe_err</a></div><div class="desc docblock-short">Create a strategy for <code>Result</code>s where <code>Ok</code> values are taken from <code>t</code> and
<code>Err</code> values are taken from <code>e</code>.</div></li><li><div class="item-name"><a class="fn" href="fn.maybe_err_weighted.html" title="fn proptest::result::maybe_err_weighted">maybe_err_weighted</a></div><div class="desc docblock-short">Create a strategy for <code>Result</code>s where <code>Ok</code> values are taken from <code>t</code> and
<code>Err</code> values are taken from <code>e</code>.</div></li><li><div class="item-name"><a class="fn" href="fn.maybe_ok.html" title="fn proptest::result::maybe_ok">maybe_ok</a></div><div class="desc docblock-short">Create a strategy for <code>Result</code>s where <code>Ok</code> values are taken from <code>t</code> and
<code>Err</code> values are taken from <code>e</code>.</div></li><li><div class="item-name"><a class="fn" href="fn.maybe_ok_weighted.html" title="fn proptest::result::maybe_ok_weighted">maybe_ok_weighted</a></div><div class="desc docblock-short">Create a strategy for <code>Result</code>s where <code>Ok</code> values are taken from <code>t</code> and
<code>Err</code> values are taken from <code>e</code>.</div></li></ul></section></div></main></body></html>